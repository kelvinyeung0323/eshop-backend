<entity-mappings xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd "
                 version="2.1">
    <package>com.kelvin.eshop.order.entity</package>



    <entity class="com.kelvin.eshop.order.entity.Order" name="order">
        <table name="user_order"/>

        <attributes>
            <id name="orderNo">
                <column name="order_no" length="32"/>
<!--                <generated-value strategy="IDENTITY" generator=""/>-->
                <generated-value generator="orderGenerator"/>
                <!--<generated-value strategy="IDENTITY"/>-->
            </id>
            <basic name="userId"> <column name="user_id" length="32"/></basic>
            <basic name="address"><column name="address" length="255"/></basic>
            <!--    收货人地址-->
            <basic name="address" ><column name="address" length="255"/></basic>
            <!--收货人电话-->
            <basic name="phoneNo" ><column name="phone_no" length="16"/>
            </basic>

            <!--收货人-->
            <basic name="consignee"><column name="consignee" length="64"/></basic>
            <!--评价状态-->
            <basic name="commentStatus"><column name="comment_status" length="16"  />  </basic>
            <!--运送状态-->
            <basic name="shipStatus"><column name="ship_status" length="16" />  </basic>
            <!--支付状态-->
            <basic name="payStatus"><column name="pay_status" length="16" />  </basic>
            <!-- 折扣-->
            <basic name="discountAmt"><column name="discount_amt" length="16"  />  </basic>
            <!-- 商品金额-->
            <basic name="goodsAmt"><column name="goods_amt" length="16" />  </basic>
            <!-- 优惠券-->
            <basic name="couponAmt"><column name="coupon_amt" length="16"  />  </basic>
            <!-- 支付金额-->
            <basic name="payAmt" ><column name="pay_amt" length="16"  />  </basic>
            <!-- 运费-->
            <basic name="shippingFee"><column name="shipping_fee" length="16" />  </basic>
            <!--  备注-->
            <basic name="remark" ><column name="remark" length="255"  /></basic>
            <!--创建时间-->
            <basic name="createTime">
                <column name="create_time"/>
            </basic>
            <!-- 订单详情-->
            <!-- 参考:  https://mkyong.com/hibernate/hibernate-one-to-many-relationship-example/-->
            <one-to-many name="orderDetails" mapped-by="order" fetch="LAZY">
            </one-to-many>

        </attributes>
    </entity>

    <entity class="OrderDetails" name="orderDetails">
        <table name="order_details"/>
        <attributes>
            <id name="id">
                <column name="id" length="32"/>
                <!--<generated-value strategy="IDENTITY" />-->
            </id>
            <basic name="description"><column length="1200"  /></basic>
            <basic name="image"><column name="image" length="1200"  /></basic>
            <basic name="price"><column name="price" length="16" /></basic>
            <basic name="title"><column name="title" length="255" /></basic>
            <basic name="goodsSkuId"><column name="goods_sku_id" length="255"/></basic>
            <many-to-one name="order" target-entity="Order" fetch="LAZY">
                <join-column name="order_no"/>
            </many-to-one>

        </attributes>
    </entity>

    <entity class="CartItem" name="cartItem">
        <table name="cart"/>
        <attributes>
            <id name="id">
                <column name="id" length="32"/>
                <!--<generated-value strategy=""/>-->
                <generated-value generator=""/>
            </id>
            <basic name="qty">
                <column name="qty"/>
            </basic>
            <basic name="goodsSkuId">
                <column name="goods_sku_id"/>
            </basic>
            <basic name="userId">
                <column name="user_id" length="32"/>
            </basic>
        </attributes>
    </entity>

</entity-mappings>